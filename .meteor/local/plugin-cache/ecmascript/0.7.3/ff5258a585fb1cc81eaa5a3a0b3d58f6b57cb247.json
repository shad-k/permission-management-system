{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"./userPanel.html","imported":[],"specifiers":[]},{"source":"meteor/templating","imported":["Template"],"specifiers":[{"kind":"named","imported":"Template","local":"Template"}]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/ui/userPanel.js","filenameRelative":"/imports/ui/userPanel.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/ui/userPanel.js.map","sourceFileName":"/imports/ui/userPanel.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"userPanel"},"ignored":false,"code":"module.importSync(\"./userPanel.html\");\nvar Template = void 0;\nmodule.importSync(\"meteor/templating\", {\n\tTemplate: function (v) {\n\t\tTemplate = v;\n\t}\n}, 1);\nvar Meteor = void 0;\nmodule.importSync(\"meteor/meteor\", {\n\tMeteor: function (v) {\n\t\tMeteor = v;\n\t}\n}, 2);\nTemplate.userPanel.events({\n\t'click .showProfile': function (event) {\n\t\tvar user = Meteor.users.findOne({\n\t\t\t_id: Meteor.userId()\n\t\t});\n\t\tdocument.querySelector('.ownProfileInfo').style.display = \"block\";\n\t\tdocument.querySelector(\".ownUsername\").value = user.username;\n\t\tif (user.profile.name) document.querySelector(\".ownName\").value = user.profile.name;else document.querySelector(\".ownName\").value = \"no value set\";\n\t\tif (user.profile.email) document.querySelector(\".ownEmail\").value = user.profile.email;else document.querySelector(\".ownEmail\").value = \"no value set\";\n\t\tif (user.profile.phone) document.querySelector(\".ownPhone\").value = user.profile.phone;else document.querySelector(\".ownPhone\").value = \"no value set\";\n\t},\n\t'click .changeInfo': function (event) {\n\t\tvar name = document.querySelector(\".ownName\").value;\n\t\tvar email = document.querySelector(\".ownEmail\").value;\n\t\tvar phone = document.querySelector(\".ownPhone\").value;\n\t\tvar username = document.querySelector(\".ownUsername\").value;\n\t\tMeteor.call('user.updateUser', username, name, email, phone, function (error, result) {\n\t\t\tif (error) {\n\t\t\t\talert(error);\n\t\t\t} else {\n\t\t\t\talert(\"User profile updated\");\n\t\t\t}\n\t\t});\n\t\tdocument.querySelector('.ownProfileInfo').style.display = \"none\";\n\t}\n});","map":{"version":3,"sources":["/imports/ui/userPanel.js"],"names":["module","importSync","Template","v","Meteor","userPanel","events","event","user","users","findOne","_id","userId","document","querySelector","style","display","value","username","profile","name","email","phone","call","error","result","alert"],"mappings":"AAAAA,OAAOC,UAAP,CAAkB,kBAAlB;AAAsC,IAAIC,iBAAJ;AAAaF,OAAOC,UAAP,CAAkB,mBAAlB,EAAsC;AAACC,WAAS,UAASC,CAAT,EAAW;AAACD,aAASC,CAAT;AAAW;AAAjC,CAAtC,EAAyE,CAAzE;AAA4E,IAAIC,eAAJ;AAAWJ,OAAOC,UAAP,CAAkB,eAAlB,EAAkC;AAACG,SAAO,UAASD,CAAT,EAAW;AAACC,WAAOD,CAAP;AAAS;AAA7B,CAAlC,EAAiE,CAAjE;AAO1ID,SAASG,SAAT,CAAmBC,MAAnB,CAA0B;AACzB,qBADyB,YACHC,KADG,EACI;AAC5B,MAAIC,OAAOJ,OAAOK,KAAP,CAAaC,OAAb,CAAqB;AAACC,QAAKP,OAAOQ,MAAP;AAAN,GAArB,CAAX;AACAC,WAASC,aAAT,CAAuB,iBAAvB,EAA0CC,KAA1C,CAAgDC,OAAhD,GAA0D,OAA1D;AAEAH,WAASC,aAAT,CAAuB,cAAvB,EAAuCG,KAAvC,GAA+CT,KAAKU,QAApD;AAGA,MAAGV,KAAKW,OAAL,CAAaC,IAAhB,EACCP,SAASC,aAAT,CAAuB,UAAvB,EAAmCG,KAAnC,GAA2CT,KAAKW,OAAL,CAAaC,IAAxD,CADD,KAGCP,SAASC,aAAT,CAAuB,UAAvB,EAAmCG,KAAnC,GAA2C,cAA3C;AACD,MAAGT,KAAKW,OAAL,CAAaE,KAAhB,EACCR,SAASC,aAAT,CAAuB,WAAvB,EAAoCG,KAApC,GAA4CT,KAAKW,OAAL,CAAaE,KAAzD,CADD,KAGCR,SAASC,aAAT,CAAuB,WAAvB,EAAoCG,KAApC,GAA4C,cAA5C;AACD,MAAGT,KAAKW,OAAL,CAAaG,KAAhB,EACCT,SAASC,aAAT,CAAuB,WAAvB,EAAoCG,KAApC,GAA4CT,KAAKW,OAAL,CAAaG,KAAzD,CADD,KAGCT,SAASC,aAAT,CAAuB,WAAvB,EAAoCG,KAApC,GAA4C,cAA5C;AACD,EApBwB;AAqBzB,oBArByB,YAqBJV,KArBI,EAqBG;AAC3B,MAAIa,OAAOP,SAASC,aAAT,CAAuB,UAAvB,EAAmCG,KAA9C;AACA,MAAII,QAAQR,SAASC,aAAT,CAAuB,WAAvB,EAAoCG,KAAhD;AACA,MAAIK,QAAQT,SAASC,aAAT,CAAuB,WAAvB,EAAoCG,KAAhD;AAEA,MAAIC,WAAWL,SAASC,aAAT,CAAuB,cAAvB,EAAuCG,KAAtD;AAEAb,SAAOmB,IAAP,CAAY,iBAAZ,EAA+BL,QAA/B,EAAyCE,IAAzC,EAA+CC,KAA/C,EAAsDC,KAAtD,EAA6D,UAASE,KAAT,EAAgBC,MAAhB,EAAwB;AACpF,OAAGD,KAAH,EAAU;AACTE,UAAMF,KAAN;AACA,IAFD,MAGK;AACJE,UAAM,sBAAN;AACA;AACD,GAPD;AAQAb,WAASC,aAAT,CAAuB,iBAAvB,EAA0CC,KAA1C,CAAgDC,OAAhD,GAA0D,MAA1D;AACA;AArCwB,CAA1B","file":"/imports/ui/userPanel.js.map","sourcesContent":["// This code handles the user panel logic. Provides event handlers to change the profile information\nimport './userPanel.html';\n\nimport { Template } from 'meteor/templating';\n\nimport { Meteor } from 'meteor/meteor';\n\nTemplate.userPanel.events({\n\t'click .showProfile' (event) {\n\t\tvar user = Meteor.users.findOne({_id: Meteor.userId()});\n\t\tdocument.querySelector('.ownProfileInfo').style.display = \"block\";\n\n\t\tdocument.querySelector(\".ownUsername\").value = user.username;\n\n\n\t\tif(user.profile.name)\n\t\t\tdocument.querySelector(\".ownName\").value = user.profile.name;\n\t\telse\n\t\t\tdocument.querySelector(\".ownName\").value = \"no value set\";\n\t\tif(user.profile.email)\n\t\t\tdocument.querySelector(\".ownEmail\").value = user.profile.email;\n\t\telse\n\t\t\tdocument.querySelector(\".ownEmail\").value = \"no value set\";\n\t\tif(user.profile.phone)\n\t\t\tdocument.querySelector(\".ownPhone\").value = user.profile.phone;\n\t\telse\n\t\t\tdocument.querySelector(\".ownPhone\").value = \"no value set\";\n\t},\n\t'click .changeInfo' (event) {\n\t\tvar name = document.querySelector(\".ownName\").value;\n\t\tvar email = document.querySelector(\".ownEmail\").value;\n\t\tvar phone = document.querySelector(\".ownPhone\").value;\n\n\t\tvar username = document.querySelector(\".ownUsername\").value;\n\n\t\tMeteor.call('user.updateUser', username, name, email, phone, function(error, result) {\n\t\t\tif(error) {\n\t\t\t\talert(error);\n\t\t\t}\n\t\t\telse {\n\t\t\t\talert(\"User profile updated\");\n\t\t\t}\n\t\t});\n\t\tdocument.querySelector('.ownProfileInfo').style.display = \"none\";\n\t}\n});"]},"hash":"ff5258a585fb1cc81eaa5a3a0b3d58f6b57cb247"}
